<div class="recipe-list-container">
  <div class="header-with-toggle">
    <div>
      <h1>{{ translations().title }}</h1>
      <p class="subtitle">{{ translations().subtitle }}</p>
    </div>
    <app-language-toggle></app-language-toggle>
  </div>

  <!-- Search Box -->
  <div class="search-container">
    <input
      type="text"
      class="search-input"
      [placeholder]="languageService.language() === 'en' ? 'Search recipes...' : 'Buscar recetas...'"
      [ngModel]="searchQuery()"
      (ngModelChange)="onSearchChange($event)"
    />
    <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
    </svg>
  </div>

  <div class="recipe-grid">
    <div class="recipe-card" *ngFor="let recipe of recipes()" [routerLink]="['/recipe', recipe.id]">
      <div class="recipe-image">
        <img [src]="recipe.image" [alt]="recipe.name" />
        <span class="cuisine-badge">{{ recipe.cuisine }}</span>
      </div>
      <div class="recipe-content">
        <h2>{{ recipe.name }}</h2>
        <div class="recipe-meta">
          <span class="meta-item category-badge">
            {{ recipe.category }}
          </span>
          @if (recipe.tags && recipe.tags.length > 0) {
            <span class="meta-item tags">
              {{ recipe.tags[0] }}
            </span>
          }
        </div>
      </div>
    </div>
  </div>

  <!-- Loading Indicator -->
  @if (loading()) {
    <div class="loading-container">
      <div class="spinner"></div>
      <p>{{ languageService.language() === 'en' ? 'Loading more recipes...' : 'Cargando más recetas...' }}</p>
    </div>
  }

  <!-- No More Results -->
  @if (!hasMore() && !loading() && recipes().length > 0) {
    <div class="no-more-container">
      <p>{{ languageService.language() === 'en' ? 'No more recipes to load' : 'No hay más recetas para cargar' }}</p>
    </div>
  }

  <!-- No Results -->
  @if (recipes().length === 0 && !loading()) {
    <div class="no-results-container">
      <p>{{ languageService.language() === 'en' ? 'No recipes found' : 'No se encontraron recetas' }}</p>
    </div>
  }
</div>
